<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ssafy.metassafy.mapper.friend.FriendMapper">
    <select id="getFriendList" resultType="com.ssafy.metassafy.dto.user.User">
        <![CDATA[
		 select * from User where user_id in
        (select to_user_id from Friend where from_user_id=#{user_id} and accept=true
        UNION
        select from_user_id from Friend where to_user_id=#{user_id} and accept=true);
	    ]]>
    </select>

    <select id="getFriendNum" resultType="string">
        <![CDATA[
		select count(*) from Friend where (from_user_id=#{user_id} or to_user_id=#{user_id}) and accept=true ;
	    ]]>
    </select>

</mapper>